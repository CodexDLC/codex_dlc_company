{% extends "base.html" %}
{% load i18n static bento_tags %}

{% block title %}{% trans "automation_page_title" %} — {{ site_settings.meta_title|default:"CodexDLC" }}{% endblock %}
{% block og_title %}{% trans "automation_page_title" %}{% endblock %}
{% block twitter_title %}{% trans "automation_page_title" %}{% endblock %}

{% block content %}

{# ======================== HERO ======================== #}
<section class="hero" id="hero-section">
    <div class="hero-bg"></div>
    <div class="container hero-content">
        <span class="tech-label">{% trans "automation_hero_label"|default:"02 // AUTOMATION" %}</span>
        <h1 class="hero-title automation-hero-title">
            {{ content.automation_hero_title|default:_("automation_hero_title") }}
        </h1>
        <p class="automation-hero-text">
            {{ content.automation_hero_text|default:_("automation_hero_text") }}
        </p>
        <div style="display: flex; gap: 16px; flex-wrap: wrap;">
            {% if site_settings.site_mode == 'sales' %}
            <a href="#pricing" class="btn btn-primary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_sales_btn_primary" %}</a>
            <a href="{% url 'main:contacts' %}" class="btn btn-secondary"
                style="padding: 20px 40px; font-size: 18px;">{% trans "automation_cta_sales_btn_secondary" %}</a>
            {% else %}
            <a href="#survey" class="btn btn-primary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_research_btn_primary" %}</a>
            <a href="{% url 'main:index' %}" class="btn btn-secondary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_research_btn_secondary" %}</a>
            {% endif %}
        </div>
    </div>
</section>

<div class="section-divider"></div>

{# ======================== HOW IT WORKS — 3 SCENARIOS ======================== #}
<section style="padding: 120px 0;">
    <div class="container">
        <span class="tech-label">{% trans "automation_how_label"|default:"HOW_IT_WORKS" %}</span>
        <h2 style="font-size: 40px; margin-bottom: 48px;">
            {{ content.automation_how_title|default:_("automation_how_title") }}</h2>
        <div class="bento-grid">

            {# Scenario 1 #}
            <div class="z-row" style="grid-column: span 12; margin-bottom: 80px;">
                <div class="z-text-block">
                    <span class="tech-label automation-scenario-label" style="color: var(--cyber-blue);">
                        {{ content.automation_scenario_1_label|default:_("automation_scenario_1_label") }}</span>
                    <h3 class="automation-scenario-title">
                        {{ content.automation_scenario_1_title|default:_("automation_scenario_1_title") }}</h3>
                    <p class="automation-scenario-text">
                        {{ content.automation_scenario_1_text|default:_("automation_scenario_1_text") }}</p>
                </div>
                <div class="z-visual blue-accent">
                    <div class="z-visual-accent"></div>
                    <div style="z-index: 1; padding: 24px; width: 100%;">
                        <div class="bot-demo-box">
                            <div class="bot-demo-header">{% trans "automation_demo_header_1"|default:"BOOKING_BOT //
                                ACTIVE" %}</div>
                            <div class="bot-demo-messages">
                                <div class="bot-demo-user-msg">{% trans "automation_demo_1_user" %}</div>
                                <div class="bot-demo-bot-msg">{% trans "automation_demo_1_bot" %}</div>
                                <div class="bot-demo-status">
                                    <span class="status-dot" style="margin-right: 0;"></span>
                                    <span class="bot-demo-status-text" style="color: var(--status-green);">
                                        {% trans "automation_demo_1_status" %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Scenario 2 #}
            <div class="z-row reverse" style="grid-column: span 12; margin-bottom: 80px;">
                <div class="z-text-block">
                    <span class="tech-label automation-scenario-label" style="color: var(--electric-purple);">
                        {{ content.automation_scenario_2_label|default:_("automation_scenario_2_label") }}</span>
                    <h3 class="automation-scenario-title">
                        {{ content.automation_scenario_2_title|default:_("automation_scenario_2_title") }}</h3>
                    <p class="automation-scenario-text">
                        {{ content.automation_scenario_2_text|default:_("automation_scenario_2_text") }}</p>
                </div>
                <div class="z-visual">
                    <div class="z-visual-accent"></div>
                    <div style="z-index: 1; padding: 24px; width: 100%;">
                        <div class="bot-demo-box">
                            <div class="bot-demo-header">{% trans "automation_demo_header_2"|default:"REMINDER_BOT //
                                SCHEDULED" %}</div>
                            <div class="bot-demo-messages">
                                <div class="bot-demo-reminder-msg">{% trans "automation_demo_2_reminder" %}</div>
                                <div class="bot-demo-user-msg">{% trans "automation_demo_2_user" %}</div>
                                <div class="bot-demo-status">
                                    <span class="status-dot"
                                        style="background: var(--electric-purple); margin-right: 0;"></span>
                                    <span class="bot-demo-status-text" style="color: var(--electric-purple);">
                                        {% trans "automation_demo_2_status" %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Scenario 3 #}
            <div class="z-row" style="grid-column: span 12;">
                <div class="z-text-block">
                    <span class="tech-label automation-scenario-label" style="color: var(--status-green);">
                        {{ content.automation_scenario_3_label|default:_("automation_scenario_3_label") }}</span>
                    <h3 class="automation-scenario-title">
                        {{ content.automation_scenario_3_title|default:_("automation_scenario_3_title") }}</h3>
                    <p class="automation-scenario-text">
                        {{ content.automation_scenario_3_text|default:_("automation_scenario_3_text") }}</p>
                </div>
                <div class="z-visual">
                    <div class="z-visual-accent"></div>
                    <div style="z-index: 1; padding: 24px; width: 100%;">
                        <div class="bot-demo-box">
                            <div class="bot-demo-header">{% trans "automation_demo_header_3"|default:"LEAD_QUALIFIER //
                                PROCESSING" %}</div>
                            <div class="bot-demo-messages">
                                <div class="bot-demo-user-msg">{% trans "automation_demo_3_user" %}</div>
                                <div class="bot-demo-bot-msg">{% trans "automation_demo_3_bot" %}</div>
                                <div class="bot-demo-status">
                                    <span class="status-dot"
                                        style="background: var(--status-green); margin-right: 0;"></span>
                                    <span class="bot-demo-status-text" style="color: var(--status-green);">
                                        {% trans "automation_demo_3_status" %}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<div class="section-divider"></div>

{# ======================== INTEGRATION CHANNELS ======================== #}
<section style="padding: 120px 0;">
    <div class="container">
        <span class="tech-label">{% trans "automation_channels_label"|default:"INTEGRATION_CHANNELS" %}</span>
        <h2 class="channels-title">{{ content.automation_channels_title|default:_("automation_channels_title") }}</h2>
        <div class="bento-grid">
            <div class="bento-card" style="grid-column: span 3; text-align: center;">
                <div class="channel-card-icon" style="color: var(--cyber-blue);">TG</div>
                <h3 class="channel-card-title">
                    {{ content.automation_channel_1_name|default:_("automation_channel_1_name") }}</h3>
                <p class="channel-card-text">{{ content.automation_channel_1_text|default:_("automation_channel_1_text")
                    }}</p>
            </div>
            <div class="bento-card" style="grid-column: span 3; text-align: center;">
                <div class="channel-card-icon" style="color: var(--status-green);">WA</div>
                <h3 class="channel-card-title">
                    {{ content.automation_channel_2_name|default:_("automation_channel_2_name") }}</h3>
                <p class="channel-card-text">{{ content.automation_channel_2_text|default:_("automation_channel_2_text")
                    }}</p>
            </div>
            <div class="bento-card" style="grid-column: span 3; text-align: center;">
                <div class="channel-card-icon" style="color: var(--electric-purple);">WEB</div>
                <h3 class="channel-card-title">
                    {{ content.automation_channel_3_name|default:_("automation_channel_3_name") }}</h3>
                <p class="channel-card-text">{{ content.automation_channel_3_text|default:_("automation_channel_3_text")
                    }}</p>
            </div>
            <div class="bento-card" style="grid-column: span 3; text-align: center;">
                <div class="channel-card-icon" style="color: var(--gray-300);">@</div>
                <h3 class="channel-card-title">
                    {{ content.automation_channel_4_name|default:_("automation_channel_4_name") }}</h3>
                <p class="channel-card-text">{{ content.automation_channel_4_text|default:_("automation_channel_4_text")
                    }}</p>
            </div>
        </div>
    </div>
</section>

<div class="section-divider"></div>

{# ======================== PRICING ======================== #}
{% if site_settings.site_mode == 'sales' %}
<section id="pricing" style="padding: 120px 0;">
    <div class="container">
        <span class="tech-label">{% trans "automation_pricing_label" %}</span>
        <h2 class="pricing-title">{{ content.automation_cta_sales_title|default:_("automation_cta_sales_title") }}</h2>
        <div class="bento-grid">
            {% for plan in plans %}
            <div class="bento-card{% if plan.is_featured %} active{% endif %}"
                style="grid-column: span 4; position: relative;">
                {% if plan.is_featured %}
                <span class="tech-label plan-label">★ POPULAR</span>
                {% endif %}
                <h3 class="plan-name">{{ plan.name }}</h3>
                <div class="plan-price">{{ plan.price_label }}</div>
                <ul class="contrast-list" style="flex: 1;">
                    {% if plan.feat_1 %}<li>{{ plan.feat_1 }}</li>{% endif %}
                    {% if plan.feat_2 %}<li>{{ plan.feat_2 }}</li>{% endif %}
                    {% if plan.feat_3 %}<li>{{ plan.feat_3 }}</li>{% endif %}
                </ul>
                <a href="{% url 'main:contacts' %}"
                    class="btn{% if plan.is_featured %} btn-primary{% else %} btn-secondary{% endif %}"
                    style="width: 100%; text-align: center; margin-top: 24px;">{{ plan.cta_label }}</a>
            </div>
            {% endfor %}
        </div>
        <p class="plan-footnote">* {% trans "ustg19_footnote" %}</p>
    </div>
</section>
<div class="section-divider"></div>
{% endif %}

{# ======================== PROJECTS BENTO (has_automation=True) ======================== #}
{% if projects %}
<section style="padding: 120px 0;">
    <div class="container">
        <span class="tech-label">{% trans "automation_projects_label"|default:"AUTOMATION_IN_ACTION" %}</span>
        <h2 style="font-size: 40px; margin-bottom: 48px;">
            {{ content.waas_projects_title|default:_("waas_projects_title") }}</h2>
        <div class="bento-grid">
            {% for project in projects %}
            {% bento_span forloop.counter projects_count as span %}
            <div class="bento-card {{ span }}">
                {% if project.thumbnail %}
                <img src="{{ project.thumbnail.url }}" alt="{{ project.name }}"
                    style="width: 100%; aspect-ratio: 16/9; object-fit: cover; border-radius: 8px; margin-bottom: 16px;">
                {% else %}
                <div class="project-thumbnail-placeholder">[ {{ project.name|upper }} ]</div>
                {% endif %}
                <div>
                    <span class="tech-label" style="margin-bottom: 4px;">{{ project.niche }}</span>
                    <h3 style="margin-bottom: 4px;">{{ project.name }}</h3>
                    {% if project.city %}<p class="project-city">{{ project.city }}</p>{% endif %}
                </div>
                <div style="margin-top: auto;">
                    {% if project.site_url %}
                    <a href="{{ project.site_url }}" target="_blank" rel="noopener" class="z-link"
                        style="font-size: 13px;">{% trans "projects_cta_view" %} →</a>
                    {% elif project.preview_url %}
                    <a href="{{ project.preview_url }}" target="_blank" rel="noopener" class="z-link"
                        style="font-size: 13px;">{% trans "projects_cta_preview" %} →</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<div class="section-divider"></div>
{% endif %}

{# ======================== FINAL CTA (dual-mode) ======================== #}
<section style="padding: 140px 0;">
    <div class="container" style="max-width: 650px; text-align: center;">
        <span class="tech-label">{% trans "home_cta_kicker" %}</span>
        {% if site_settings.site_mode == 'sales' %}
        <h2 style="font-size: 48px; margin-bottom: 24px;">
            {{ content.automation_cta_sales_title|default:_("automation_cta_sales_title") }}</h2>
        <p style="color: var(--gray-400); font-size: 17px; margin-bottom: 56px;">
            {{ content.automation_cta_sales_text|default:_("automation_cta_sales_text") }}
        </p>
        <div style="display: flex; gap: 16px; flex-wrap: wrap; justify-content: center;">
            <a href="#pricing" class="btn btn-primary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_sales_btn_primary" %}</a>
            <a href="{% url 'main:contacts' %}" class="btn btn-secondary"
                style="padding: 20px 40px; font-size: 18px;">{% trans "automation_cta_sales_btn_secondary" %}</a>
        </div>
        {% else %}
        <h2 style="font-size: 48px; margin-bottom: 24px;">
            {{ content.automation_cta_research_title|default:_("automation_cta_research_title") }}</h2>
        <p style="color: var(--gray-400); font-size: 17px; margin-bottom: 56px;">
            {{ content.automation_cta_research_text|default:_("automation_cta_research_text") }}</p>
        <div style="display: flex; gap: 16px; flex-wrap: wrap; justify-content: center;">
            <a href="#survey" class="btn btn-primary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_research_btn_primary" %}</a>
            <a href="{% url 'main:index' %}" class="btn btn-secondary" style="padding: 20px 40px; font-size: 18px;">
                {% trans "automation_cta_research_btn_secondary" %}</a>
        </div>
        {% endif %}
    </div>
</section>

{% endblock %}

{% block taglines %}
<script id="page-taglines" type="application/json">
["Digital Lead Converter"]
</script>
{% endblock taglines %}